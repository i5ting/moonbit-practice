# C程序调试指南 - Cursor IDE

本文档介绍如何在Cursor IDE中使用可视化断点调试C程序。

## 📋 前置准备

1. 确保已编译带调试信息的C程序：
   ```bash
   gcc -g -o hello_debug hello.c
   ```

2. 确保 `.vscode/launch.json` 配置正确：
   ```json
   {
     "version": "0.2.0",
     "configurations": [
       {
         "name": "C/C++ Runner: Debug Session",
         "type": "lldb",
         "request": "launch",
         "args": [],
         "cwd": "/Users/user/workspace/github/mbtc",
         "program": "/Users/user/workspace/github/mbtc/hello_debug"
       }
     ]
   }
   ```

## 🔧 调试步骤

### 1. 设置断点
- 在Cursor中打开 `hello.c` 文件
- 在你想要停止执行的行号左侧点击，会出现一个红色圆点（断点）
- 比如在 `printf("Hello, World! \n");` 这行设置断点

### 2. 启动调试
- 按 `F5` 或者使用快捷键 `Cmd+Shift+D` 打开调试面板
- 点击绿色的"播放"按钮或选择 "C/C++ Runner: Debug Session"
- 程序会在断点处暂停

### 3. 调试控制
在调试工具栏中，你会看到这些按钮：
- **继续** (F5): 继续执行到下一个断点
- **单步跳过** (F10): 执行当前行，不进入函数
- **单步进入** (F11): 进入函数内部
- **单步跳出** (Shift+F11): 跳出当前函数
- **重启** (Ctrl+Shift+F5): 重新开始调试
- **停止** (Shift+F5): 停止调试

### 4. 查看变量
在左侧的调试面板中，你可以看到：
- **变量**: 当前作用域内的所有变量
- **监视**: 你添加的自定义表达式
- **调用堆栈**: 函数调用链
- **断点**: 所有设置的断点

### 5. 高级功能
- **条件断点**: 右键点击断点，设置只在特定条件下暂停
- **日志点**: 在断点处输出信息而不暂停执行
- **变量监视**: 在监视窗口添加你想要跟踪的变量或表达式

## ⌨️ 快捷键汇总

| 功能 | 快捷键 |
|------|--------|
| 开始调试 | F5 |
| 打开调试面板 | Cmd+Shift+D |
| 单步跳过 | F10 |
| 单步进入 | F11 |
| 单步跳出 | Shift+F11 |
| 重新开始调试 | Ctrl+Shift+F5 |
| 停止调试 | Shift+F5 |
| 切换断点 | F9 |

## 💡 调试技巧

1. **多个断点**: 可以在多个位置设置断点，程序会依次在每个断点处停止
2. **表达式求值**: 在调试暂停时，可以在终端中输入表达式查看值
3. **变量修改**: 在变量窗口中可以实时修改变量的值
4. **内存查看**: 可以查看指针指向的内存内容

## 🚀 开始调试

现在你可以在Cursor中愉快地调试你的C程序了！试试在 `printf` 行设置一个断点，然后按F5开始调试。

---
*更新时间: $(date)* 